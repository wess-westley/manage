{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Administration System</title>
    <link rel="stylesheet" href='{% static "styles/admin.css" %}'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-form">
            <h2>Admin Login</h2>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Enter your username">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter your password">
            </div>
            <button class="login-btn" onclick="handleLogin()">Login</button>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-container" id="adminDashboard">
        <div class="sidebar">
            <div class="sidebar-header">
                <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Admin">
                <h3>Admin User</h3>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" class="active" onclick="showSection('dashboard')"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#" onclick="showSection('students')"><i class="fas fa-users"></i> Student Management</a></li>
                <li><a href="#" onclick="showSection('teachers')"><i class="fas fa-chalkboard-teacher"></i> Teacher Management</a></li>
                <li><a href="#" onclick="showSection('staff')"><i class="fas fa-user-tie"></i> Staff Management</a></li>
                <li><a href="#" onclick="showSection('finance')"><i class="fas fa-money-bill-wave"></i> Finance</a></li>
                <li><a href="#" onclick="showSection('bom')"><i class="fas fa-landmark"></i> Board of Management</a></li>
                <li><a href="#" onclick="showSection('settings')"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </div>
        <div class="main-content">
            <div class="header">
                <button class="menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
                <h1 id="sectionTitle">Dashboard</h1>
                <div class="user-info">
                    <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Admin">
                    <span>Admin User</span>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboardSection">
                <div class="dashboard-cards">
                    <div class="card students-card">
                        <div class="card-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Students</h3>
                        <div class="card-value">1,245</div>
                        <p>Total registered students</p>
                        <div class="card-footer">
                            <i class="fas fa-arrow-up positive"></i>
                            <span>12% from last month</span>
                        </div>
                    </div>
                    <div class="card teachers-card">
                        <div class="card-icon">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <h3>Teachers</h3>
                        <div class="card-value">48</div>
                        <p>Teaching staff</p>
                        <div class="card-footer">
                            <i class="fas fa-arrow-up positive"></i>
                            <span>2 new hires</span>
                        </div>
                    </div>
                    <div class="card staff-card">
                        <div class="card-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3>Staff</h3>
                        <div class="card-value">32</div>
                        <p>Non-teaching staff</p>
                        <div class="card-footer">
                            <i class="fas fa-minus"></i>
                            <span>No change</span>
                        </div>
                    </div>
                    <div class="card budget-card">
                        <div class="card-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3>School Budget</h3>
                        <div class="card-value">$245,000</div>
                        <p>Annual budget</p>
                        <div class="card-footer">
                            <i class="fas fa-arrow-down negative"></i>
                            <span>5% from last year</span>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Student Performance</h3>
                            <div class="chart-actions">
                                <select>
                                    <option>This Term</option>
                                    <option>Last Term</option>
                                    <option>This Year</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-placeholder">
                            [Performance Chart Would Appear Here]
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Class Distribution</h3>
                            <div class="chart-actions">
                                <select>
                                    <option>All Classes</option>
                                    <option>Form 1</option>
                                    <option>Form 2</option>
                                    <option>Form 3</option>
                                    <option>Form 4</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-placeholder">
                            [Class Distribution Chart Would Appear Here]
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <div class="activity-header">
                        <h3>Recent Activity</h3>
                        <a href="#">View All</a>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">New Student Registered</div>
                                <div class="activity-description">John Doe was registered in Form 2 West</div>
                                <div class="activity-time">10 minutes ago</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Student Suspension</div>
                                <div class="activity-description">Jane Smith was suspended for 3 days by Mr. Johnson</div>
                                <div class="activity-time">2 hours ago</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-comment-dollar"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Fee Payment</div>
                                <div class="activity-description">Michael Brown paid $250 for term 2 fees</div>
                                <div class="activity-time">5 hours ago</div>
                            </div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-chalkboard-teacher"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">New Teacher Approved</div>
                                <div class="activity-description">Mrs. Anderson was approved to teach Mathematics</div>
                                <div class="activity-time">1 day ago</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

     <!-- Student Management Section -->
            <div id="studentsSection" style="display: none;">
                <div class="management-header">
                    <div class="search-filter">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="studentSearch" placeholder="Search students...">
                        </div>
                        <button class="filter-btn">
                            <i class="fas fa-filter"></i>
                            Filters
                        </button>
                    </div>
                    <div class="action-btns">
                        <button class="btn btn-primary" onclick="openModal('addStudentModal')">
                            <i class="fas fa-plus"></i> Add Student
                        </button>
                        <button class="btn btn-outline">
                            <i class="fas fa-file-export"></i> Export
                        </button>
                    </div>
                </div>

                <div class="students-table">
                    <table id="studentsTable">
                        <thead>
                            <tr>
                                <th>Student</th>
                                <th>Class</th>
                                <th>Admission Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody">
                            <!-- Students will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <div class="pagination-info" id="paginationInfo">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-btns" id="paginationBtns">
                        <!-- Pagination buttons will be generated here -->
                    </div>
                </div>
            </div>

    <!--teachers management section-->
 <div id="teachersSection" style="display: none;">
                <div class="management-header">
                    <div class="search-filter">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="teacherSearch" placeholder="Search teachers...">
                        </div>
                        <button class="filter-btn">
                            <i class="fas fa-filter"></i>
                            Filters
                        </button>
                    </div>
                    <div class="action-btns">
                        <button class="btn btn-primary" onclick="openModal('addTeacherModal')">
                            <i class="fas fa-plus"></i> Add Teacher
                        </button>
                        <button class="btn btn-outline">
                            <i class="fas fa-file-export"></i> Export
                        </button>
                    </div>
                </div>

                <div class="students-table">
                    <table id="teachersTable">
                        <thead>
                            <tr>
                                <th>Teacher</th>
                                <th>Subjects</th>
                                <th>Class In Charge</th>
                                <th>TSC Number</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="teachersTableBody">
                            <!-- Teachers will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <div class="pagination-info">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-btns">
                        <!-- Pagination buttons will be generated here -->
                    </div>
                </div>
            </div>
    
        
             <!-- Staff Management Section -->
            <div id="staffSection" style="display: none;">
                <div class="management-header">
                    <div class="search-filter">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="staffSearch" placeholder="Search staff...">
                        </div>
                        <button class="filter-btn">
                            <i class="fas fa-filter"></i>
                            Filters
                        </button>
                    </div>
                    <div class="action-btns">
                        <button class="btn btn-primary" onclick="openModal('addStaffModal')">
                            <i class="fas fa-plus"></i> Hire Staff
                        </button>
                        <button class="btn btn-outline">
                            <i class="fas fa-file-export"></i> Export
                        </button>
                    </div>
                </div>

                <div class="students-table">
                    <table id="staffTable">
                        <thead>
                            <tr>
                                <th>Staff</th>
                                <th>Position</th>
                                <th>Department</th>
                                <th>Employee ID</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="staffTableBody">
                            <!-- Staff will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <div class="pagination-info">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-btns">
                        <div class="pagination-btn"><i class="fas fa-angle-left"></i></div>
                        <!-- Pagination buttons will be generated here -->
                         <div class="pagination-btn"><i class="fas fa-angle-right"></i></div>
                    </div>
                </div>
            </div>

            <!-- Finance Section -->
            <div id="financeSection" style="display: none;">
                <div class="management-header">
                    <h2>Finance Management</h2>
                    <div class="action-btns">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> New Budget
                        </button>
                    </div>
                </div>

                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(46, 204, 113, 0.1); color: var(--success-color);">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3>Annual Budget</h3>
                        <div class="card-value">$245,000</div>
                        <p>Total approved budget</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(52, 152, 219, 0.1); color: var(--primary-color);">
                            <i class="fas fa-coins"></i>
                        </div>
                        <h3>Expenditure</h3>
                        <div class="card-value">$78,450</div>
                        <p>32% of budget used</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(241, 196, 15, 0.1); color: var(--warning-color);">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <h3>Fee Collection</h3>
                        <div class="card-value">$120,780</div>
                        <p>65% of expected fees</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(155, 89, 182, 0.1); color: #9b59b6;">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <h3>Pending Approvals</h3>
                        <div class="card-value">12</div>
                        <p>Payment requests</p>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Budget Allocation</h3>
                            <div class="chart-actions">
                                <select>
                                    <option>This Year</option>
                                    <option>Last Year</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-placeholder">
                            [Budget Allocation Chart Would Appear Here]
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Fee Collection Progress</h3>
                            <div class="chart-actions">
                                <select>
                                    <option>Term 1</option>
                                    <option>Term 2</option>
                                    <option>Term 3</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-placeholder">
                            [Fee Collection Chart Would Appear Here]
                        </div>
                    </div>
                </div>

                <div class="chart-card" style="margin-top: 2rem;">
                    <div class="chart-header">
                        <h3>Finance Department Staff</h3>
                    </div>
                    <div class="chart-placeholder">
                        [Finance Staff Table Would Appear Here]
                    </div>
                </div>
            </div>

            <!-- Board of Management Section -->
            <div id="bomSection" style="display: none;">
                <div class="management-header">
                    <h2>Board of Management</h2>
                    <div class="action-btns">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add Member
                        </button>
                        <button class="btn btn-outline">
                            <i class="fas fa-calendar-plus"></i> Schedule Meeting
                        </button>
                    </div>
                </div>

                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(52, 152, 219, 0.1); color: var(--primary-color);">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Board Members</h3>
                        <div class="card-value">9</div>
                        <p>Active members</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(46, 204, 113, 0.1); color: var(--success-color);">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3>Upcoming Meeting</h3>
                        <div class="card-value">May 15</div>
                        <p>Next meeting date</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(241, 196, 15, 0.1); color: var(--warning-color);">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <h3>Pending Minutes</h3>
                        <div class="card-value">3</div>
                        <p>For approval</p>
                    </div>
                    <div class="card">
                        <div class="card-icon" style="background-color: rgba(155, 89, 182, 0.1); color: #9b59b6;">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h3>Open Actions</h3>
                        <div class="card-value">7</div>
                        <p>Items to resolve</p>
                    </div>
                </div>

                <div class="chart-card" style="margin-top: 2rem;">
                    <div class="chart-header">
                        <h3>Board Members</h3>
                    </div>
                    <div class="chart-placeholder">
                        [Board Members Table Would Appear Here]
                    </div>
                </div>

                <div class="chart-card" style="margin-top: 2rem;">
                    <div class="chart-header">
                        <h3>Meeting Minutes</h3>
                        <div class="chart-actions">
                            <button class="btn btn-outline">
                                <i class="fas fa-upload"></i> Upload Minutes
                            </button>
                        </div>
                    </div>
                    <div class="chart-placeholder">
                        [Minutes Table Would Appear Here]
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settingsSection" style="display: none;">
                <div class="management-header">
                    <h2>System Settings</h2>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Account Settings</h3>
                    </div>
                    <div class="modal-body">
                        <div class="avatar-upload">
                            <div class="avatar-preview">
                                <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Admin">
                            </div>
                            <button class="upload-btn">
                                <i class="fas fa-upload"></i> Upload Photo
                            </button>
                        </div>
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="adminName">Full Name</label>
                                    <input type="text" id="adminName" value="Admin User">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="adminEmail">Email</label>
                                    <input type="email" id="adminEmail" value="admin@school.edu">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="adminPhone">Phone Number</label>
                            <input type="tel" id="adminPhone" value="+254712345678">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Changes
                            </button>
                        </div>
                    </div>
                </div>

                <div class="chart-card" style="margin-top: 2rem;">
                    <div class="chart-header">
                        <h3>Change Password</h3>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword">
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm New Password</label>
                            <input type="password" id="confirmPassword">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary">
                                <i class="fas fa-key"></i> Update Password
                            </button>
                        </div>
                    </div>
                </div>

                <div class="chart-card" style="margin-top: 2rem;">
                    <div class="chart-header">
                        <h3>System Preferences</h3>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="theme">Theme</label>
                            <select id="theme">
                                <option>Light</option>
                                <option>Dark</option>
                                <option>System Default</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="notifications">Notifications</label>
                            <select id="notifications">
                                <option>Enabled</option>
                                <option>Disabled</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Preferences
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
     
  <!-- Add Student Modal -->
    <div class="modal" id="addStudentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Student</h3>
                <button class="close-btn" onclick="closeModal('addStudentModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addStudentForm" onsubmit="event.preventDefault(); addItem('student');">
                    {% csrf_token %}
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <img src="" alt="Student" id="studentAvatarPreview" style="display: none;">
                            <i class="fas fa-user-graduate" id="defaultStudentAvatarIcon"></i>
                        </div>
                        <button type="button" class="upload-btn" onclick="document.getElementById('studentAvatarUpload').click()">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <input type="file" id="studentAvatarUpload" name="student_image" accept="image/*" style="display: none;"
                               onchange="previewAvatar(this, 'studentAvatarPreview', 'defaultStudentAvatarIcon')">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="firstName">First Name*</label>
                                <input type="text" id="firstName" name="first_name" placeholder="Enter first name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="lastName">Last Name*</label>
                                <input type="text" id="lastName" name="last_name" placeholder="Enter last name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="dob">Date of Birth*</label>
                                <input type="date" id="dob" name="date_of_birth" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="gender">Gender*</label>
                                <select id="gender" name="gender" required>
                                    <option value="">Select gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Address*</label>
                        <input type="text" id="address" name="address" placeholder="Enter address" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="admissionClass">Admission Class*</label>
                                <select id="admissionClass" name="admission_class" required>
                                    <option value="">Select class</option>
                                    <option value="form1">Form 1</option>
                                    <option value="form2">Form 2</option>
                                    <option value="form3">Form 3</option>
                                    <option value="form4">Form 4</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="stream">Stream*</label>
                                <select id="stream" name="stream" required>
                                    <option value="">Select stream</option>
                                    <option value="north">North</option>
                                    <option value="south">South</option>
                                    <option value="east">East</option>
                                    <option value="west">West</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="parentName">Parent/Guardian Name*</label>
                                <input type="text" id="parentName" name="parent_name" placeholder="Enter parent/guardian name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="parentNumber">Parent/Guardian Phone*</label>
                                <input type="text" id="parentNumber" name="parent_phone" placeholder="Enter phone number" required>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-cancel" onclick="closeModal('addStudentModal')">Cancel</button>
                <button class="btn btn-submit" type="submit" form="addStudentForm">Add Student</button>
            </div>
        </div>
    </div>

    <!-- Edit Student Modal -->
    <div class="modal" id="editStudentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Student Details</h3>
                <button class="close-btn" onclick="closeModal('editStudentModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editStudentForm" onsubmit="event.preventDefault(); saveItem('student');">
                    {% csrf_token %}
                    <input type="hidden" name="id" id="editStudentId">
                    
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <img src="" alt="Student" id="editStudentAvatarPreview" style="display: none;">
                            <i class="fas fa-user-graduate" id="defaultEditStudentAvatarIcon"></i>
                        </div>
                        <button type="button" class="upload-btn" onclick="document.getElementById('editStudentAvatarUpload').click()">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <input type="file" id="editStudentAvatarUpload" name="student_image" accept="image/*" style="display: none;"
                               onchange="previewAvatar(this, 'editStudentAvatarPreview', 'defaultEditStudentAvatarIcon')">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editFirstName">First Name*</label>
                                <input type="text" id="editFirstName" name="first_name" placeholder="Enter first name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editLastName">Last Name*</label>
                                <input type="text" id="editLastName" name="last_name" placeholder="Enter last name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editDob">Date of Birth*</label>
                                <input type="date" id="editDob" name="date_of_birth" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editGender">Gender*</label>
                                <select id="editGender" name="gender" required>
                                    <option value="">Select gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editAddress">Address*</label>
                        <input type="text" id="editAddress" name="address" placeholder="Enter address" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editAdmissionClass">Admission Class*</label>
                                <select id="editAdmissionClass" name="admission_class" required>
                                    <option value="">Select class</option>
                                    <option value="form1">Form 1</option>
                                    <option value="form2">Form 2</option>
                                    <option value="form3">Form 3</option>
                                    <option value="form4">Form 4</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editStream">Stream*</label>
                                <select id="editStream" name="stream" required>
                                    <option value="">Select stream</option>
                                    <option value="north">North</option>
                                    <option value="south">South</option>
                                    <option value="east">East</option>
                                    <option value="west">West</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editParentName">Parent/Guardian Name*</label>
                                <input type="text" id="editParentName" name="parent_name" placeholder="Enter parent/guardian name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editParentNumber">Parent/Guardian Phone*</label>
                                <input type="text" id="editParentNumber" name="parent_phone" placeholder="Enter phone number" required>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-cancel" onclick="closeModal('editStudentModal')">Cancel</button>
                <button class="btn btn-submit" type="submit" form="editStudentForm">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Add Teacher Modal -->
    <div class="modal" id="addTeacherModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Teacher</h3>
                <button class="close-btn" onclick="closeModal('addTeacherModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addTeacherForm" onsubmit="event.preventDefault(); addItem('teacher');">
                    {% csrf_token %}
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <img src="" alt="Teacher" id="teacherAvatarPreview" style="display: none;">
                            <i class="fas fa-chalkboard-teacher" id="defaultTeacherAvatarIcon"></i>
                        </div>
                        <button type="button" class="upload-btn" onclick="document.getElementById('teacherAvatarUpload').click()">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <input type="file" id="teacherAvatarUpload" name="teacher_image" accept="image/*" style="display: none;"
                               onchange="previewAvatar(this, 'teacherAvatarPreview', 'defaultTeacherAvatarIcon')">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="teacherFirstName">First Name*</label>
                                <input type="text" id="teacherFirstName" name="first_name" placeholder="Enter first name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="teacherLastName">Last Name*</label>
                                <input type="text" id="teacherLastName" name="last_name" placeholder="Enter last name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="teacherTscNumber">TSC Number*</label>
                                <input type="text" id="teacherTscNumber" name="tsc_number" placeholder="Enter TSC number" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="teacherSubjects">Subjects*</label>
                                <input type="text" id="teacherSubjects" name="subjects" placeholder="Enter subjects (comma separated)" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="teacherClassInCharge">Class In Charge</label>
                        <input type="text" id="teacherClassInCharge" name="class_in_charge" placeholder="Enter class in charge">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-cancel" onclick="closeModal('addTeacherModal')">Cancel</button>
                <button class="btn btn-submit" type="submit" form="addTeacherForm">Add Teacher</button>
            </div>
        </div>
    </div>
   <!-- Add Staff Modal -->
    <div class="modal" id="addStaffModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Staff</h3>
                <button class="close-btn" onclick="closeModal('addStaffModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addStaffForm" onsubmit="event.preventDefault(); addItem('staff');">
                    {% csrf_token %}
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <img src="" alt="Staff" id="staffAvatarPreview" style="display: none;">
                            <i class="fas fa-user-tie" id="defaultStaffAvatarIcon"></i>
                        </div>
                        <button type="button" class="upload-btn" onclick="document.getElementById('staffAvatarUpload').click()">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <input type="file" id="staffAvatarUpload" name="staff_image" accept="image/*" style="display: none;"
                               onchange="previewAvatar(this, 'staffAvatarPreview', 'defaultStaffAvatarIcon')">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="staffFirstName">First Name*</label>
                                <input type="text" id="staffFirstName" name="first_name" placeholder="Enter first name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="staffLastName">Last Name*</label>
                                <input type="text" id="staffLastName" name="last_name" placeholder="Enter last name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="staffPosition">Position*</label>
                                <input type="text" id="staffPosition" name="position" placeholder="Enter position" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="staffDepartment">Department*</label>
                                <input type="text" id="staffDepartment" name="department" placeholder="Enter department" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="staffEmployeeId">Employee ID*</label>
                        <input type="text" id="staffEmployeeId" name="employee_id" placeholder="Enter employee ID" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-cancel" onclick="closeModal('addStaffModal')">Cancel</button>
                <button class="btn btn-submit" type="submit" form="addStaffForm">Add Staff</button>
            </div>
        </div>
    </div>

    <script src="{% static 'styles/javascript/admin.js' %}"></script>
</body>
</html>